From cd9021ae48a64e3256e827c66fc67caea21e1c16 Mon Sep 17 00:00:00 2001
From: Marek Goldmann <mgoldman@redhat.com>
Date: Thu, 29 Nov 2012 13:24:16 +0100
Subject: [PATCH] Add an easy way to override the default bind address for
 systemd service

---
 build/src/main/resources/bin/initscripts/systemd/jboss-as.conf    | 4 ++++
 build/src/main/resources/bin/initscripts/systemd/jboss-as.service | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/build/src/main/resources/bin/initscripts/systemd/jboss-as.conf b/build/src/main/resources/bin/initscripts/systemd/jboss-as.conf
index 580b385..20f2780 100644
--- a/build/src/main/resources/bin/initscripts/systemd/jboss-as.conf
+++ b/build/src/main/resources/bin/initscripts/systemd/jboss-as.conf
@@ -2,3 +2,7 @@
 #
 JBOSS_CONFIG=standalone.xml
 
+# The address to bind to
+#
+JBOSS_BIND=0.0.0.0
+
diff --git a/build/src/main/resources/bin/initscripts/systemd/jboss-as.service b/build/src/main/resources/bin/initscripts/systemd/jboss-as.service
index 32c1c10..1a546cc 100644
--- a/build/src/main/resources/bin/initscripts/systemd/jboss-as.service
+++ b/build/src/main/resources/bin/initscripts/systemd/jboss-as.service
@@ -9,7 +9,7 @@ EnvironmentFile=-/etc/jboss-as/jboss-as.conf
 User=jboss-as
 LimitNOFILE=102642
 PIDFile=/var/run/jboss-as/jboss-as.pid
-ExecStart=/usr/share/jboss-as/bin/standalone.sh -c $JBOSS_CONFIG
+ExecStart=/usr/share/jboss-as/bin/standalone.sh -c $JBOSS_CONFIG -b $JBOSS_BIND
 StandardOutput=null
 
 [Install]
